<div class="modal-overlay" (click)="close.emit()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>{{ getTitle() }}</h3>
      <button class="btn-close" (click)="close.emit()">
        <lucide-icon name="x" [size]="20"></lucide-icon>
      </button>
    </div>

    <div class="modal-body">
      <div class="form-group">
        <label for="nome">Nome *</label>
        <input
          type="text"
          id="nome"
          name="nome"
          [(ngModel)]="nome"
          class="input-text"
          placeholder="Nome completo do colaborador"
          required
        >
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="matricula">Matrícula *</label>
          <input
            type="text"
            id="matricula"
            name="matricula"
            [(ngModel)]="matricula"
            class="input-text"
            placeholder="Matrícula"
            [disabled]="mode() === 'edit'"
            required
          >
        </div>

        <div class="form-group">
          <label for="empresa">Empresa</label>
          <input
            type="text"
            id="empresa"
            name="empresa"
            [(ngModel)]="empresa"
            class="input-text"
            placeholder="Nome da empresa"
          >
        </div>
      </div>



      <div class="form-group checkbox-row">
        <div class="checkbox-group">
          <input
            type="checkbox"
            id="ativo"
            name="ativo"
            [(ngModel)]="ativo"
            class="checkbox-input"
          >
          <label for="ativo" class="checkbox-text">Colaborador Ativo</label>
        </div>

        <div class="checkbox-group">
          <input
            type="checkbox"
            id="trabalhaSabado"
            name="trabalhaSabado"
            [(ngModel)]="trabalhaSabado"
            class="checkbox-input"
          >
          <label for="trabalhaSabado" class="checkbox-text">Trabalha no Sábado</label>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn btn-outline" (click)="close.emit()" [disabled]="isSaving()">
        Cancelar
      </button>
      <button class="btn btn-primary" (click)="handleSave()" [disabled]="isSaving()">
        @if(isSaving()) {
          <div class="btn-spinner"></div>
        } @else {
          <lucide-icon name="save" [size]="16"></lucide-icon>
        }
        {{ mode() === 'create' ? 'Criar' : 'Salvar' }}
      </button>
    </div>
  </div>
</div>
